{"ast":null,"code":"import _defineProperty from \"/Desenv/BootCamp-GoStack/gostack-meetapp-frontend-master/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Desenv/BootCamp-GoStack/gostack-meetapp-frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Desenv/BootCamp-GoStack/gostack-meetapp-frontend-master/src/pages/Details/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { format, parseISO } from 'date-fns';\nimport pt from 'date-fns/locale/pt';\nimport { MdEdit, MdDelete, MdToday, MdRoom } from 'react-icons/md';\nimport api from \"../../services/api\";\nimport history from \"../../services/history\";\nimport { Container, EditButton, CancelButton, Image, Info } from './styles';\n\nconst Details = ({\n  match\n}) => {\n  const id = match.params.id;\n\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        meetup = _useState2[0],\n        setMeetup = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        url = _useState4[0],\n        setUrl = _useState4[1];\n\n  useEffect(() => {\n    async function loadMeetup() {\n      const response = await api.get('meetups', {\n        params: {\n          id\n        }\n      }); // const response = await api.get(`meetups/${id}`);\n\n      const url = response.data.url;\n      const meetupInfo = response.data;\n      const parsedDate = parseISO(meetupInfo.date);\n\n      const data = _objectSpread({}, meetupInfo, {\n        time: format(parsedDate, \"d 'de' MMMM', às' HH'h'\", {\n          locale: pt,\n          url\n        })\n      });\n\n      setMeetup(data);\n      setUrl(url);\n    }\n\n    loadMeetup();\n  }, [id]);\n  console.tron.log(url);\n\n  async function handleDelete() {\n    await api.delete(\"meetups/\".concat(id));\n    history.push('/dashboard');\n  }\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, meetup.title), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/form/\".concat(meetup.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(EditButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(MdEdit, {\n    size: 20,\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Editar\"))), React.createElement(CancelButton, {\n    onClick: handleDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(MdDelete, {\n    size: 20,\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Cancelar\")))), React.createElement(Image, {\n    src: meetup.banner ? meetup.banner.url : '',\n    alt: meetup.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"article\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, meetup.name), React.createElement(Info, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(MdToday, {\n    size: 20,\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, meetup.time)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(MdRoom, {\n    size: 20,\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, meetup.location))));\n};\n\nexport default Details;\nDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    })\n  }).isRequired\n};","map":{"version":3,"sources":["/Desenv/BootCamp-GoStack/gostack-meetapp-frontend-master/src/pages/Details/index.js"],"names":["React","useState","useEffect","Link","PropTypes","format","parseISO","pt","MdEdit","MdDelete","MdToday","MdRoom","api","history","Container","EditButton","CancelButton","Image","Info","Details","match","id","params","meetup","setMeetup","url","setUrl","loadMeetup","response","get","data","meetupInfo","parsedDate","date","time","locale","console","tron","log","handleDelete","delete","push","title","banner","name","location","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { format, parseISO } from 'date-fns';\nimport pt from 'date-fns/locale/pt';\nimport { MdEdit, MdDelete, MdToday, MdRoom } from 'react-icons/md';\nimport api from '~/services/api';\nimport history from '~/services/history';\n\nimport { Container, EditButton, CancelButton, Image, Info } from './styles';\n\nconst Details = ({ match }) => {\n  const { id } = match.params;\n  const [meetup, setMeetup] = useState({});\n  const [url, setUrl] = useState({});\n\n  useEffect(() => {\n    async function loadMeetup() {\n      const response = await api.get('meetups', {\n        params: { id },\n      });\n      // const response = await api.get(`meetups/${id}`);\n      const { url } = response.data;\n      const meetupInfo = response.data;\n      const parsedDate = parseISO(meetupInfo.date);\n      const data = {\n        ...meetupInfo,\n        time: format(parsedDate, \"d 'de' MMMM', às' HH'h'\", {\n          locale: pt,\n          url,\n        }),\n      };\n\n      setMeetup(data);\n      setUrl(url);\n    }\n\n    loadMeetup();\n  }, [id]);\n\n  console.tron.log(url);\n\n  async function handleDelete() {\n    await api.delete(`meetups/${id}`);\n\n    history.push('/dashboard');\n  }\n\n  return (\n    <Container>\n      <header>\n        <h4>{meetup.title}</h4>\n        <div>\n          <Link to={`/form/${meetup.id}`}>\n            <EditButton>\n              <MdEdit size={20} color=\"#fff\" />\n              <span>Editar</span>\n            </EditButton>\n          </Link>\n          <CancelButton onClick={handleDelete}>\n            <MdDelete size={20} color=\"#fff\" />\n            <span>Cancelar</span>\n          </CancelButton>\n        </div>\n      </header>\n\n      <Image src={meetup.banner ? meetup.banner.url : ''} alt={meetup.name} />\n\n      <article>{meetup.name}</article>\n\n      <Info>\n        <div>\n          <MdToday size={20} color=\"#fff\" />\n          <span>{meetup.time}</span>\n        </div>\n        <div>\n          <MdRoom size={20} color=\"#fff\" />\n          <span>{meetup.location}</span>\n        </div>\n      </Info>\n    </Container>\n  );\n};\n\nexport default Details;\n\nDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}